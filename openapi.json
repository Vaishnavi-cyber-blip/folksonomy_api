{"openapi":"3.0.2","info":{"title":"Open Food Facts folksonomy REST API","version":"0.1.0"},"paths":{"/":{"get":{"summary":"Hello","operationId":"hello__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth":{"post":{"summary":"Authentication","description":"Authentication: provide user/password and get a bearer token in return\n\n- **username** : OpenFoodFacts user_id (not email)\n- **password** : user password (clear text, but HTTPS encrypted)\n\ntoken is returned, to be used in later requests with usual \"Authorization: bearer token\" headers","operationId":"authentication_auth_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_authentication_auth_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/products":{"get":{"summary":"Product List","description":"Get the list of products with tags statistics\n\nThe products list can be limited to some tags (k or k=v)","operationId":"product_list_products_get","parameters":[{"required":false,"schema":{"title":"Owner","default":""},"name":"owner","in":"query"},{"required":false,"schema":{"title":"K","default":""},"name":"k","in":"query"},{"required":false,"schema":{"title":"V","default":""},"name":"v","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Product List Products Get","type":"array","items":{"$ref":"#/components/schemas/ProductStats"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/product/{product}":{"get":{"summary":"Product Tags List","description":"Get a list of existing tags for a product","operationId":"product_tags_list_product__product__get","parameters":[{"required":true,"schema":{"title":"Product","type":"string"},"name":"product","in":"path"},{"required":false,"schema":{"title":"Owner","default":""},"name":"owner","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Product Tags List Product  Product  Get","type":"array","items":{"$ref":"#/components/schemas/ProductTag"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/product/{product}/{k}":{"get":{"summary":"Product Tag","description":"Get a specific tag on a product","operationId":"product_tag_product__product___k__get","parameters":[{"required":true,"schema":{"title":"Product","type":"string"},"name":"product","in":"path"},{"required":true,"schema":{"title":"K","type":"string"},"name":"k","in":"path"},{"required":false,"schema":{"title":"Owner","default":""},"name":"owner","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductTag"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"summary":"Product Tag Delete","description":"Delete a product tag","operationId":"product_tag_delete_product__product___k__delete","parameters":[{"required":true,"schema":{"title":"Product","type":"string"},"name":"product","in":"path"},{"required":true,"schema":{"title":"K","type":"string"},"name":"k","in":"path"},{"required":true,"schema":{"title":"Version","type":"integer"},"name":"version","in":"query"},{"required":false,"schema":{"title":"Owner","default":""},"name":"owner","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/product/{product}/{k}/versions":{"get":{"summary":"Product Tag List Versions","description":"Get a list of all versions of a tag for a product","operationId":"product_tag_list_versions_product__product___k__versions_get","parameters":[{"required":true,"schema":{"title":"Product","type":"string"},"name":"product","in":"path"},{"required":true,"schema":{"title":"K","type":"string"},"name":"k","in":"path"},{"required":false,"schema":{"title":"Owner","default":""},"name":"owner","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Product Tag List Versions Product  Product   K  Versions Get","type":"array","items":{"$ref":"#/components/schemas/ProductTag"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/product/{product}/{k}/version/{version}":{"get":{"summary":"Product Tag Version","description":"Get a specific version of a tag for a product","operationId":"product_tag_version_product__product___k__version__version__get","parameters":[{"required":true,"schema":{"title":"Product","type":"string"},"name":"product","in":"path"},{"required":true,"schema":{"title":"K","type":"string"},"name":"k","in":"path"},{"required":true,"schema":{"title":"Version","type":"integer"},"name":"version","in":"path"},{"required":false,"schema":{"title":"Owner","default":""},"name":"owner","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductTag"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/product":{"put":{"summary":"Product Tag Update","description":"Update a product tag\n\n- **product** : which product\n- **k** : which key for the tag\n- **v** : which value to set for the tag\n- **version** : must be equal to previous version + 1\n- **owner** : None or empty for public tags, or your own user_id","operationId":"product_tag_update_product_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductTag"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"summary":"Product Tag Add","description":"Create a new product tag (version=1)","operationId":"product_tag_add_product_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductTag"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/ping":{"get":{"summary":"Pong","description":"Check server health","operationId":"pong_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_authentication_auth_post":{"title":"Body_authentication_auth_post","required":["username","password"],"type":"object","properties":{"grant_type":{"title":"Grant Type","pattern":"password","type":"string"},"username":{"title":"Username","type":"string"},"password":{"title":"Password","type":"string"},"scope":{"title":"Scope","type":"string","default":""},"client_id":{"title":"Client Id","type":"string"},"client_secret":{"title":"Client Secret","type":"string"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"ProductStats":{"title":"ProductStats","required":["product","keys","editors","last_edit"],"type":"object","properties":{"product":{"title":"Product","type":"string"},"keys":{"title":"Keys","type":"integer"},"editors":{"title":"Editors","type":"integer"},"last_edit":{"title":"Last Edit","type":"string","format":"date-time"}}},"ProductTag":{"title":"ProductTag","required":["product","k","v"],"type":"object","properties":{"product":{"title":"Product","type":"string"},"k":{"title":"K","type":"string"},"v":{"title":"V","type":"string"},"owner":{"title":"Owner","type":"string","default":""},"version":{"title":"Version","type":"integer","default":1},"editor":{"title":"Editor","type":"string"},"last_edit":{"title":"Last Edit","type":"string","format":"date-time"},"comment":{"title":"Comment","type":"string","default":""}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"auth"}}}}}}